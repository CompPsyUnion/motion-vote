# Motion Vote - è¾©è®ºæ´»åŠ¨å®æ—¶æŠ•ç¥¨äº’åŠ¨ç³»ç»Ÿ

<div align="center">

![License](https://img.shields.io/badge/license-Apache%202.0-blue.svg)
![Version](https://img.shields.io/badge/version-1.0.0-green.svg)
![Build](https://img.shields.io/badge/build-passing-brightgreen.svg)
![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg)

## **ä¸ºè¾©è®ºèµ›äº‹æ‰“é€ çš„å®Œæ•´å®æ—¶æŠ•ç¥¨äº’åŠ¨è§£å†³æ–¹æ¡ˆ**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [æŠ€æœ¯æ¶æ„](#ï¸-æŠ€æœ¯æ¶æ„) â€¢ [æ–‡æ¡£](#-æ–‡æ¡£) â€¢ [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

è¾©è®ºæ´»åŠ¨å®æ—¶æŠ•ç¥¨äº’åŠ¨ç³»ç»Ÿæ˜¯ä¸€å¥—ä¸“ä¸ºè¾©è®ºèµ›äº‹è®¾è®¡çš„å®Œæ•´è§£å†³æ–¹æ¡ˆï¼Œæ—¨åœ¨ä¸ºæ´»åŠ¨ç»„ç»‡è€…æä¾›é«˜æ•ˆçš„æ´»åŠ¨ç®¡ç†å·¥å…·ï¼Œä¸ºç°åœºè§‚ä¼—æä¾›ä¾¿æ·çš„æŠ•ç¥¨äº’åŠ¨ä½“éªŒï¼Œå¹¶é€šè¿‡å¤§å±å®æ—¶å±•ç¤ºæŠ•ç¥¨æ•°æ®ï¼Œå…¨é¢æå‡è¾©è®ºæ´»åŠ¨çš„äº’åŠ¨æ€§å’Œè§‚èµæ€§ã€‚

### æ ¸å¿ƒä»·å€¼

- **ğŸ¯ é«˜æ•ˆç®¡ç†** - ä¸ºä¸»åŠæ–¹æä¾›å®Œå–„çš„æ´»åŠ¨ç®¡ç†å’ŒååŒå·¥å…·ï¼Œé™ä½ç»„ç»‡æˆæœ¬
- **ğŸ‘¥ ä¾¿æ·å‚ä¸** - è§‚ä¼—æ— éœ€æ³¨å†Œï¼Œæ‰«ç å³å¯å‚ä¸æŠ•ç¥¨ï¼Œéšæ—¶è¡¨è¾¾è§‚ç‚¹
- **ğŸ“Š å®æ—¶å±•ç¤º** - å¤§å±å®æ—¶å¯è§†åŒ–å‘ˆç°æŠ•ç¥¨æ•°æ®ï¼Œå¢å¼ºç°åœºæ°›å›´
- **ğŸ”’ å®‰å…¨å¯é ** - å¤šé‡é˜²åˆ·ç¥¨æœºåˆ¶ï¼Œæ•°æ®åŠ å¯†ä¼ è¾“ï¼Œç¡®ä¿æŠ•ç¥¨å…¬å¹³æ€§
- **ğŸ“ˆ æ•°æ®åˆ†æ** - å®Œæ•´çš„æŠ•ç¥¨æ•°æ®è¿½æº¯å’Œåˆ†ææŠ¥å‘Šï¼Œæ”¯æŒæ•°æ®å¯¼å‡º

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸª æ´»åŠ¨ç®¡ç†

- **æ´»åŠ¨åˆ›å»ºä¸é…ç½®** - æ”¯æŒåˆ›å»ºè¾©è®ºæ´»åŠ¨ï¼Œé…ç½®æ´»åŠ¨ä¿¡æ¯ã€æ—¶é—´ã€åœ°ç‚¹ç­‰
- **åä½œç®¡ç†** - é‚€è¯·å¤šäººååŒç®¡ç†æ´»åŠ¨ï¼Œæ”¯æŒç»†ç²’åº¦æƒé™æ§åˆ¶
- **å‚ä¸è€…ç®¡ç†** - æ‰¹é‡å¯¼å…¥å‚ä¸è€…ï¼Œç”Ÿæˆä¸ªæ€§åŒ–é—¨ç¥¨äºŒç»´ç 
- **æ´»åŠ¨è®¾ç½®** - çµæ´»é…ç½®æ”¹ç¥¨è§„åˆ™ã€æ•°æ®å±•ç¤ºæ–¹å¼ã€å¤§å±ä¸»é¢˜ç­‰

### ğŸ­ è¾©é¢˜ç®¡ç†

- **è¾©é¢˜åˆ›å»º** - ä¸ºæ´»åŠ¨æ·»åŠ å¤šä¸ªè¾©é¢˜ï¼Œæ”¯æŒæ­£åæ–¹è§‚ç‚¹æè¿°
- **çŠ¶æ€æ§åˆ¶** - å®æ—¶æ§åˆ¶è¾©é¢˜çŠ¶æ€ï¼ˆå¾…å¼€å§‹/è¾©è®ºä¸­/æœ€ç»ˆæŠ•ç¥¨/å·²ç»“æŸï¼‰
- **ä¸€é”®åˆ‡æ¢** - åå°å¿«é€Ÿåˆ‡æ¢å½“å‰å±•ç¤ºè¾©é¢˜ï¼Œå¤§å±åŒæ­¥æ›´æ–°
- **çµæ´»æ’åº** - æ”¯æŒæ‹–æ‹½è°ƒæ•´è¾©é¢˜é¡ºåº

### ğŸ—³ï¸ æŠ•ç¥¨ç³»ç»Ÿ

- **å¿«é€Ÿå…¥åœº** - æ‰«æé—¨ç¥¨äºŒç»´ç æˆ–è¾“å…¥ç¼–å·å³å¯è¿›å…¥æ´»åŠ¨
- **åˆå§‹æŠ•ç¥¨** - è¾©è®ºå¼€å§‹å‰è¿›è¡Œç«‹åœºæŠ•ç¥¨ï¼ˆæ­£æ–¹/åæ–¹/å¼ƒæƒï¼‰
- **å®æ—¶æ”¹ç¥¨** - è¾©è®ºè¿‡ç¨‹ä¸­å¯éšæ—¶æ”¹å˜ç«‹åœºï¼Œè®°å½•å®Œæ•´æ”¹ç¥¨å†å²
- **æŠ•ç¥¨é”å®š** - è¾©é¢˜ç»“æŸåè‡ªåŠ¨é”å®šç»“æœï¼Œé˜²æ­¢ç¯¡æ”¹
- **é˜²åˆ·ç¥¨æœºåˆ¶** - IP é™æµã€è®¾å¤‡æŒ‡çº¹ã€å¼‚å¸¸è¡Œä¸ºç›‘æ§å¤šé‡é˜²æŠ¤

### ğŸ“º å¤§å±å±•ç¤º

- **å®æ—¶æ•°æ®æ›´æ–°** - WebSocket æ¨é€ï¼Œå»¶è¿Ÿå°äº 1 ç§’
- **å¤šç§å±•ç¤ºæ¨¡å¼** - æ”¯æŒæ˜¾ç¤ºå½“å‰è¾©é¢˜ã€æ­£æ–¹æƒ…å†µã€åæ–¹æƒ…å†µã€åŒæ–¹å¯¹æ¯”
- **ä¸°å¯Œçš„å¯è§†åŒ–** - ç¥¨æ•°ç»Ÿè®¡ã€ç™¾åˆ†æ¯”ã€æ”¹ç¥¨æµå‘ã€è¶‹åŠ¿å›¾è¡¨
- **ä¸»é¢˜å®šåˆ¶** - æä¾›ç»å…¸ç‰ˆã€ç§‘æŠ€ç‰ˆã€ç®€çº¦ç‰ˆç­‰å¤šç§ä¸»é¢˜
- **è¿œç¨‹æ§åˆ¶** - åå°å¯è¿œç¨‹æ§åˆ¶å¤§å±æ˜¾ç¤ºå†…å®¹

### ğŸ“Š æ•°æ®ç»Ÿè®¡

- **å®æ—¶çœ‹æ¿** - æŸ¥çœ‹å®æ—¶åœ¨çº¿äººæ•°ã€æŠ•ç¥¨ç»Ÿè®¡ã€å‚ä¸è€…æ´»è·ƒåº¦
- **æ´»åŠ¨æŠ¥å‘Š** - è‡ªåŠ¨ç”ŸæˆåŒ…å«å®Œæ•´æ•°æ®åˆ†æçš„æ´»åŠ¨æŠ¥å‘Š
- **æ•°æ®å¯¼å‡º** - æ”¯æŒå¯¼å‡º PDF æŠ¥å‘Šã€Excel æ•°æ®æ˜ç»†

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

#### **å‰ç«¯æŠ€æœ¯**

- Vue 3 + TypeScript - ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- ECharts - æ•°æ®å¯è§†åŒ–å›¾è¡¨
- Pinia - çŠ¶æ€ç®¡ç†
- Socket.io-client - WebSocket å®æ—¶é€šä¿¡

#### **åç«¯æŠ€æœ¯**

- Python + FastAPI - Web æ¡†æ¶
- MySQL 8.0 - å…³ç³»å‹æ•°æ®åº“
- Redis - ç¼“å­˜ä¸ä¼šè¯ç®¡ç†
- Socket.io / WebSocket - å®æ—¶æ•°æ®æ¨é€
- JWT - èº«ä»½è®¤è¯ä¸æˆæƒ

#### **éƒ¨ç½²è¿ç»´**

- Docker - å®¹å™¨åŒ–éƒ¨ç½²
- Nginx - åå‘ä»£ç†ä¸è´Ÿè½½å‡è¡¡

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 20.x
- MySQL >= 8.0
- Redis >= 6.0

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/comppsyunion/motion-vote.git
cd motion-vote
```

#### 2. å®‰è£…ä¾èµ–

```bash
# å®‰è£…å‰ç«¯ä¾èµ–
cd frontend
npm install

# å®‰è£…åç«¯ä¾èµ–
cd ../backend
npm install
```

#### 3. åˆå§‹åŒ–æ•°æ®åº“

å¾…å®Œå–„(WIP)

#### 4. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨åç«¯æœåŠ¡
cd backend
python main.py

# å¯åŠ¨å‰ç«¯æœåŠ¡
cd frontend
pnpm dev
```

### Docker å¿«é€Ÿéƒ¨ç½²

#### é…ç½®ç¯å¢ƒå˜é‡å’Œ SMToGo ç›¸å…³

åœ¨ä¸ `docker-compose.yml` æ–‡ä»¶åŒçº§ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `config` ç›®å½•ï¼Œå¹¶æ·»åŠ ä¸€ä¸ª `smtp_config.jsonc` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```jsonc
// æ ¹æ®éœ€è¦ä¿®æ”¹ä»¥ä¸‹é…ç½®
{
    // API Configuration
    "api_key": "", // API key for authentication (leave empty to disable)
    "api_name": "High-Performance SMTP API", // API name
    "api_description": "SMTP API mail dispatch with support for attachments.", // API description
    // SMTP Server Settings
    "smtp_server": "maildev.com", // SMTP server hostname (for docker: service name)
    "smtp_port": 1025, // SMTP port
    "use_ssl": false, // Use SSL/TLS encryption
    "use_password": false, // Whether to authenticate with username/password
    "use_tls": false, // Use STARTTLS
    // Email Limits
    "max_len_recipient_email": 64, // Maximum length for recipient email
    "max_len_subject": 255, // Maximum subject length
    "max_len_body": 50000, // Maximum email body length
    // Sender Configuration
    "sender_email": "your_email@example.com", // SMTP authentication email (actual account)
    "sender_email_display": "", // From header display email (leave empty to use sender_email)
    "sender_domain": "devel.local.email",
    "sender_password": "your_password"
}
```

ä»¥åŠä¸€ä¸ª `data` ç›®å½•ç”¨äºå­˜æ”¾ smtogo æ—¥å¿—æ–‡ä»¶ã€‚

åœ¨ `docker-compose.yml` ä¸­é…ç½®æ•°æ®åº“å’Œ Redis è¿æ¥ä¿¡æ¯ï¼ˆå¦‚æœéœ€è¦ï¼‰ã€‚

```yaml
    environment:
      - DATABASE_URL=postgresql://postgres-url:your-password@motion-vote-db:5432/motionvote
      - REDIS_URL=redis://motion-vote-redis:6379/0
```

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

---

## ğŸ“š æ–‡æ¡£

### æ ¸å¿ƒæ¦‚å¿µ

#### **ç³»ç»Ÿè§’è‰²**

- **ç³»ç»Ÿç®¡ç†å‘˜** - ç®¡ç†æ‰€æœ‰ç”¨æˆ·å’Œç³»ç»Ÿé…ç½®
- **æ´»åŠ¨ä¸»åŠæ–¹** - åˆ›å»ºå’Œç®¡ç†è¾©è®ºæ´»åŠ¨
- **åä½œç®¡ç†å‘˜** - ååŠ©ä¸»åŠæ–¹ç®¡ç†æ´»åŠ¨
- **ç°åœºè§‚ä¼—** - æ— éœ€æ³¨å†Œï¼Œæ‰«ç å‚ä¸æŠ•ç¥¨
- **å¤§å±å±•ç¤º** - å®æ—¶å±•ç¤ºæŠ•ç¥¨æ•°æ®

#### **è¾©é¢˜çŠ¶æ€æµè½¬**

```mermaid
graph LR
    A[å¾…å¼€å§‹] --> B[è¾©è®ºä¸­]
    B --> C[æœ€ç»ˆæŠ•ç¥¨]
    C --> D[å·²ç»“æŸ]
```

### API æ–‡æ¡£

API æ–‡æ¡£æ­£åœ¨æ¢³ç†ä¸­

### é…ç½®è¯´æ˜

#### **æ´»åŠ¨é…ç½®é¡¹**

| é…ç½®é¡¹                | è¯´æ˜               | é»˜è®¤å€¼  |
| --------------------- | ------------------ | ------- |
| `allowChangeVote`     | æ˜¯å¦å…è®¸æ”¹ç¥¨       | true    |
| `maxChangeCount`      | æœ€å¤§æ”¹ç¥¨æ¬¡æ•°       | 3       |
| `showRealTimePercent` | æ˜¯å¦æ˜¾ç¤ºå®æ—¶ç™¾åˆ†æ¯” | true    |
| `screenTheme`         | å¤§å±ä¸»é¢˜           | classic |

#### å…³äºç®¡ç†å‘˜

é¦–æ¬¡æ³¨å†Œç”¨æˆ·å³ä¸ºç®¡ç†å‘˜ï¼Œæ‹¥æœ‰æ‰€æœ‰æƒé™ã€‚ç®¡ç†å‘˜å¯ä¸ºå…¶ä»–ç”¨æˆ·åˆ†é…ç®¡ç†å‘˜è§’è‰²ã€‚

---

## ğŸ” å®‰å…¨æ€§

### é˜²åˆ·ç¥¨æœºåˆ¶

- **IP é™æµ** - å•ä¸ª IP æ¯åˆ†é’Ÿæœ€å¤šæŠ•ç¥¨ 10 æ¬¡
- **è®¾å¤‡æŒ‡çº¹è¯†åˆ«** - é˜²æ­¢åŒä¸€è®¾å¤‡å¤šæ¬¡æŠ•ç¥¨
- **å¼‚å¸¸è¡Œä¸ºç›‘æ§** - è‡ªåŠ¨è¯†åˆ«å¼‚å¸¸æŠ•ç¥¨æ¨¡å¼
- **å‚ä¸è€…éªŒè¯** - å”¯ä¸€çš„æ´»åŠ¨ ID å’Œå‚ä¸è€…ç¼–å·ç»„åˆ

---

## ğŸ“¦ éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### 1. æ„å»ºé¡¹ç›®

```bash
# æ„å»ºå‰ç«¯
cd frontend
npm run build

# æ„å»ºåç«¯
cd ../backend
npm run build
```

#### 2. ä½¿ç”¨ Docker éƒ¨ç½²

å¾…å®Œå–„(WIP)

#### 3. Nginx é…ç½®ç¤ºä¾‹

```nginx
server {
    listen 80;
    server_name yourdomain.com;

    # å‰ç«¯é™æ€æ–‡ä»¶
    location / {
        root /var/www/debate-voting/dist;
        try_files $uri $uri/ /index.html;
    }

    # APIä»£ç†
    location /api {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }

    # WebSocketä»£ç†
    location /socket.io {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
}
```

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

- å¯ç”¨ Redis ç¼“å­˜çƒ­ç‚¹æ•°æ®
- é…ç½® MySQL è¯»å†™åˆ†ç¦»
- ä½¿ç”¨ CDN åŠ é€Ÿé™æ€èµ„æº
- å¼€å¯ Gzip å‹ç¼©
- é…ç½®è´Ÿè½½å‡è¡¡ï¼ˆå¤šå®ä¾‹éƒ¨ç½²ï¼‰

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼åœ¨æäº¤ PR ä¹‹å‰ï¼Œè¯·é˜…è¯»ä»¥ä¸‹æŒ‡å—ï¼š

### å¼€å‘æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ ESLint å’Œ Prettier æ ¼å¼åŒ–ä»£ç 
- éµå¾ª Vue 3 å®˜æ–¹é£æ ¼æŒ‡å—
- ç¼–å†™æ¸…æ™°çš„æäº¤ä¿¡æ¯
- ä¸ºæ–°åŠŸèƒ½æ·»åŠ å•å…ƒæµ‹è¯•
- æ›´æ–°ç›¸å…³æ–‡æ¡£

### æäº¤ä¿¡æ¯è§„èŒƒ

```text
<type>(<scope>): <subject>

<body>

<footer>
```

#### **Type ç±»å‹**

- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»ºå·¥å…·æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

### æŠ¥å‘Šé—®é¢˜

å¦‚æœæ‚¨å‘ç° bug æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·[æäº¤ Issue](https://github.com/comppsyunion/motion-vote/issues)ã€‚

æäº¤ Issue æ—¶è¯·åŒ…å«ï¼š

- é—®é¢˜çš„è¯¦ç»†æè¿°
- å¤ç°æ­¥éª¤
- æœŸæœ›è¡Œä¸º
- å®é™…è¡Œä¸º
- ç³»ç»Ÿç¯å¢ƒä¿¡æ¯

---

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](LICENSE) å¼€æºåè®®ã€‚

---

## ğŸ‘¥ å›¢é˜Ÿ

- **é¡¹ç›®è´Ÿè´£äºº**: [@buduan](https://github.com/buduan), [@hnrobert](https://github.com/hnrobert)
- **æ ¸å¿ƒå¼€å‘è€…**: æŸ¥çœ‹ [è´¡çŒ®è€…åˆ—è¡¨](https://github.com/comppsyunion/motion-vote/graphs/contributors)

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

ç‰¹åˆ«æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š

- [Vue.js](https://vuejs.org/)
- [ECharts](https://echarts.apache.org/)
- [Socket.io](https://socket.io/)

---

## ğŸ“§ è”ç³»æˆ‘ä»¬

- **å›¢é˜Ÿé‚®ç®±**: <computerpsychounion@nottingham.edu.cn>
- **å¼€å‘è€…é‚®ç®±**: ä¸æ–­åŒå­¦ <buduan461@gmail.com>; Robert He <hnrobert@qq.com>

---

## ğŸŒŸ Star History

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸ Starï¼

[![Star History Chart](https://api.star-history.com/svg?repos=comppsyunion/motion-vote&type=Date)](https://star-history.com/#CompPsyUnion/Motion-Vote&Date)

---

<div align="center">

Made with â¤ï¸ by Computer Psycho Union

</div>
